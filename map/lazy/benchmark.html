<!DOCTYPE HTML>
<html>
<head>
    <title>can.LazyMap</title>
</head>
<body>

<script type="text/javascript" src="../../lib/steal/steal.js"></script>
<script type="text/javascript">
    steal("can/map", "can/map/lazy", function(Map, LazyMap) {
        var obj = {};
        for(var i = 0; i < 30000; i++) {
            obj['name_' + i] = {
                id: i,
                name: 'name ' + i,
                nested: new can.Map({ property: i })
            };
        }

        var start = new Date().getTime();
        new Map(obj);
        var end = new Date().getTime();

        document.write('<p>can.Map initialization time: ' + (end - start) + 'ms</p>');

        start = new Date().getTime();
        new LazyMap(obj);
        end = new Date().getTime();

        document.write('<p>can.LazyMap initialization time: ' + (end - start) + 'ms</p>');
    });
</script>
</body>
</html>
